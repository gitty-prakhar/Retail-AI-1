<!DOCTYPE html>
<html>
<head>
  <title>Reset Password | Gumasto</title>
  <link rel="stylesheet" href="../css/auth.css">
  <script src="https://unpkg.com/lucide@latest"></script>

</head>
<body>
<button id="darkToggle" class="theme-btn">
  <i data-lucide="moon"></i>
</button>

<div class="auth-container" style="width:420px;height:auto">

  <div class="auth-form" style="width:100%">

    <h2>Create New Password</h2>

    <div class="input-group password-wrapper">
      <label>New Password</label>
      <input type="password" id="newPassword" placeholder="Create a new password"
        oninput="validatePasswordMatch('newPassword','confirmNewPassword','resetError','resetBtn')">
      <span onclick="togglePassword('newPassword')">Show</span>
    </div>

    <div class="input-group password-wrapper">
      <label>Confirm New Password</label>
      <input type="password" id="confirmNewPassword" placeholder="Confirm new password"
        oninput="validatePasswordMatch('newPassword','confirmNewPassword','resetError','resetBtn')">
      <span onclick="togglePassword('confirmNewPassword')">Show</span>
    </div>

    <p id="resetError" class="error-text">Passwords do not match</p>

    <button class="primary" id="resetBtn" onclick="resetPassword()" disabled>
      Update Password
    </button>

  </div>
</div>

<script src="../js/auth.js"></script>
<script>
if (localStorage.getItem("darkMode") === "on") {
  document.body.classList.add("dark");
}

const t = document.getElementById("darkToggle");
t.innerHTML = document.body.classList.contains("dark")
  ? '<i data-lucide="sun"></i>'
  : '<i data-lucide="moon"></i>';

t.onclick = () => {
  document.body.classList.toggle("dark");
  localStorage.setItem(
    "darkMode",
    document.body.classList.contains("dark") ? "on" : "off"
  );
  t.innerHTML = document.body.classList.contains("dark")
    ? '<i data-lucide="sun"></i>'
    : '<i data-lucide="moon"></i>';
  lucide.createIcons();
};

lucide.createIcons();
</script>

</body>
</html>
